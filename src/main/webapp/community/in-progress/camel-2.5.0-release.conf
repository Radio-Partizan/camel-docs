h1. Camel 2.5.0 release (currently in progress)

{div:style=padding-right:20px;float:left;margin-left:-20px;}
!http://camel.apache.org/download.data/camel-box-v1.0-150x200.png!
{div}
{div:style=min-height:200px}
{div}

h2. New and Noteworthy

Welcome to the 2.5.0 release which approx XXX issues resolved (new features, improvements and bug fixes such as...)

* Added {{suspend/resume}} operations to [CamelContext] for _warm_ restarts, or as the preferred way to temporary stop a running Camel application, and then later resume it. Those operations is also available in [JMX|Camel JMX].
* Improved management of routes in [JMX|Camel JMX]. You can now suspend/resume routes which support suspension. There is a new {{removeRoute}} to remove a route from [JMX|Camel JMX]. Routes with {{autoStartup=false}} is now also listed in [JMX|Camel JMX], to allow you to start the routes manually.
* The [Asynchronous Routing Engine] allows to be forced into synchronous mode for certain components, by specifying {{synchronous=true}} in the endpoint uri.
* [FTP|FTP2] now supports MSV file systems. The ftp consumer will now traverse the directory structure using a {{cd <dir>, list files in cur dir}} pattern, as opposed to a {{list files <dir>}} style.
* Fixed issue with using multiple [HTTP] endpoints with the only difference being {{httpClient}} parameters.
* Fixed issue with [Stream Caching] and deleting temporary files on Windows.
* Server thread pool settings can be configured on [Jetty] component.
* Easier to configure general HTTP/SSL socket connector properties on [Jetty] component.
* Fixed issue with sending an {{InOut}} message to [Dead Letter Channel] would cause Camel to expect a reply. Now the message will always be send to the DLQ as {{InOnly}}.
* Fixed issue when sending to a [JMS] destination, the option {{disableReplyTo}} was not used.
* Added two new functions to [XPath] to leverage [Properties] component and [Simple] language.
* Fixed issue when running [Jetty] server under heavy load throwing {{IllegalStateException}}
* [JMS] uses [Asynchronous Routing Engine] for [Request Reply] messaging over JMS.
* Fixed issue with a route could mistakenly pick up a route scoped [OnException|Exception Clause] from another route.
* Fixed an issue with starting {{CamelContext}} after it had been shutdown, leading to routes not properly being re-initialized and started.
* The [File|File2] and [FTP|FTP2] consumers now support using {{preMove}} together with either {{noop}} or {{delete}} options.
* Added support for {{timeout}} in [Recipient List], [Splitter] and [Multicast] EIPs when running in parallel mode.
* Added support for 3rd part [UuidGenerator].
* [Velocity] can now find template files from filesystem/classpath when referring to them from other templates.
* Fixed issue with multiple [CamelContext] using same id being mixed as single [CamelContext] in [JMX|Camel JMX]. Camel now fails to start if existing [CamelContext] already have been registered in the MBeanServer.
* The [Message Filter] EIP now stores a property on the [Exchange] to indicate if it was filtered or not.
* [FTP|FTP2] supports sending site commands after successful login.
* [Simple] language can now compare numeric values which was entered as String types.
* Fixed limitation where [PollEnrich|Content Enricher] could not poll from a file endpoint if the route started from a file endpoint as well.
* Fixed limitation with [Simple] language, before you could only use one {{and}} or {{or}} operator. Now you can use multiple operators in the same expression.
* [Restlet] component now supports using \{ \} placeholders in uri, which gets replaced with headers from [Exchange].
* Added {{dynamicRouter}} to the DSL to make it easier to do dynamic routing using a [Bean] to evaluate _on-the-fly_ the next destination(s).
* When sending a [JMS] message using InOnly but having a {{JMSReplyTo}} header configured, then the {{JmsProducer}} will lookup/create the JMS Destination to ensure its a valid {{JMSReplyTo}} from the header.
* Endpoint uris containing password is not logged in plaintext, but is now masked.
* [Properties] can now leverage [Jasypt] allowing you to use encrypted values in your properties files.
* Trimmed down the size of the [Web Console] reducing the number of jars and removing the groovy experimental editor. It now requires JDK 1.6 to run as well. We will in the future improve the [Web Console] to contain more features and information.
* Added new [Language] component to execute [Languages] scripts when sending a message to a {{language}} endpoint. This makes it easier to support [Dynamic Router] where small pieces of logic must be executed as well.
* Added an option charset on the [File|File2], [FTP|FTP2] endpoint which can specify the encoding that the file will be use.
* [CXF|CXF] consumer and [CXFRS|cxfrs] consumer will try to leverage CXF continuation API to call the camel process asynchronous API if it is possible, and you can turn it off by setting the option of isSynchronous to be true.

h3. New [Enterprise Integration Patterns]

* [Dynamic Router] is now available in the [DSL] as well.

h3. New [Components]

* [Language]
* [Jasypt]
* [Shiro Security]
* [Sip]

h3. New DSL

* [Dynamic Router]

h3. New Annotations

h3. New [Data Formats|Data Format]

h3. New [Languages]

h3. New [Examples]

* {{camel-example-reportincident-ws-security-osgi}}

h3. New [Tutorials]

h2. API breaking

h2. Known Issues

* The [Tracer] may not output all details for some situations such as when using {{onCompletion}} or {{intercept}} etc.
* Not all [Examples] have ANT build.xml files to run the example using ANT.

h2. Important changes to consider when upgrading

* Support for [JMS] API 1.0.2 has been removed.
* The {{stopRoute}} method on {{CamelContext}} now leverages [Graceful shutdown] when stopping. This is more intuitive to stop routes in a graceful and safe manner. You can the stop method with a timeout if you want to force stopping, which was the old behavior.
* The [Web Console] now requires JDK 1.6 as minimum to run.
* The artifacts {{camel-core-tests.jar}} and {{camel-spring-tests.jar}} has been *deprecated* and will be removed in a future release. You should always only use the {{camel-test.jar}} if you want to use the Camel Test Kit.
* Camel will now fail to startup if an existing CamelContext has been registered in JMX with the same id.
* If you did not set a id on {{<camelContext>}} it would have defaulted to {{camelContext}}. This has been changed to be the auto assigned name it's given by Camel, such as {{camel-1}}, {{camel-2}} etc.
* Maven version 2.2.1 or better is now required to build Camel from source.
* If using [Quartz] with jobs persisted in a database, then mind that Camel now resolves job names based on endpoint uri, _without_ parameters. This allows you to change cron parameters on the same job (reschedule jobs).
* The {{timeout}} option on [Netty] has been removed as it was flawed.
* Durable topic subscribers with [JMS] must now provide {{clientId}}, otherwise Camel will fail fast on startup.

h2. Getting the Distributions

h3. Binary Distributions

|| Description || Download Link || PGP Signature file of download ||
| Windows Distribution | [apache-camel-2.5.0.zip|http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.5.0/apache-camel-2.5.0.zip] | [apache-camel-2.5.0.zip.asc|http://www.apache.org/dist/camel/apache-camel/2.5.0/apache-camel-2.5.0.zip.asc] |
| Unix/Linux/Cygwin Distribution | [apache-camel-2.5.0.tar.gz|http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.5.0/apache-camel-2.5.0.tar.gz] | [apache-camel-2.5.0.tar.gz.asc|http://www.apache.org/dist/camel/apache-camel/2.5.0/apache-camel-2.5.0.tar.gz.asc] |
{info:title=The above URLs use redirection}
The above URLs use the Apache Mirror system to redirect you to a suitable mirror for your download. Some users have experienced issues with some versions of browsers (e.g. some Safari browsers). If the download doesn't seem to work for you from the above URL then try using [FireFox|http://www.mozilla.com/en-US/firefox/]

{info}

h3. Source Distributions

|| Description || Download Link || PGP Signature file of download ||
| Source for Windows | [apache-camel-2.5.0-src.zip|http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.5.0/apache-camel-2.5.0-src.zip] | [apache-camel-2.5.0-src.zip.asc|http://www.apache.org/dist/camel/apache-camel/2.5.0/apache-camel-2.5.0-src.zip.asc] |

| Source for Unix/Linux/Cygwin | [apache-camel-2.5.0-src.tar.gz|http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.5.0/apache-camel-2.5.0-src.tar.gz] | [apache-camel-2.5.0-src.tar.gz.asc|http://www.apache.org/dist/camel/apache-camel/2.5.0/apache-camel-2.5.0-src.tar.gz.asc] |

h3. Getting the Binaries using Maven 2

To use this release in your maven project, the proper dependency configuration that you should use in your [Maven POM|http://maven.apache.org/guides/introduction/introduction-to-the-pom.html] is:
{code:xml}
<dependency>
  <groupId>org.apache.camel</groupId>
  <artifactId>camel-core</artifactId>
  <version>2.5.0</version>
</dependency>
{code}

h3. SVN Tag Checkout

{code}
svn co http://svn.apache.org/repos/asf/camel/tags/camel-2.5.0
{code}

h2. Changelog

For a more detailed view of new features and bug fixes, see the:
* [release notes for 2.5.0|http://issues.apache.org/activemq/secure/ReleaseNote.jspa?projectId=11020&styleName=Html&version=12320]